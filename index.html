<!doctype html>
<html>
    <head>
        <title>Tractview</title>
        
        <link href="//fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> <!--TODO can't load this in main.js?-->
        
        <!-- Dep Scripts -->
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/three.min.js"></script>
        <script type="text/javascript" src="controls/OrbitControls.js"></script>
        <script type="text/javascript" src="node_modules/three/examples/js/loaders/VTKLoader.js"></script>
        <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
        
        <!-- Main Script -->
        <script type="text/javascript" src="js/main.js"></script>
        
        <!-- Dep Styles -->
        <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.min.css" />
        
        <!-- Main Style -->
        <link rel="stylesheet" type="text/css" href="css/main.css" />
    </head>
    
    <body>
        <div style="display:inline-block;width:100%;height:100%;overflow:hidden;">
            <div class="container">
                <!-- Main Connectome View -->
                <div id="conview" class="conview"></div>
                
                <!-- Tiny Brain to Show Orientation -->
                <div id="tinybrain" class="tinybrain"></div>
                
                <div id="controls" class="controls">
                    <div style="display:flex;">
                        <!-- Hide/Show Panel -->
                        <div id="hide_show" class="hide_show">
                            <div class="table">
                                <div class="cell">
                                    <div class="rotated" id="hide_show_text"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Fascicle Toggling -->
                        <div class="container_toggles" id="container_toggles">
                            <ul class="list-group" id="tract_toggles"></ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <style scoped>
                .container {
                    display:inline-block;
                    position:relative;
                    width:100%;
                    height:100%;
                    overflow:hidden;
                    background:black;
                }
                .conview {
                    display:inline-block;
                    width:100%;
                    height:100%;
                }
                
                .tinybrain {
                    position:absolute;
                    pointer-events:none;
                    left:0;
                    bottom:0;
                    width:64px;
                    height:64px;
                }
                
                /*.num_fibers {
                    position:absolute;
                    left:70px;
                    bottom:2px;
                    white-space:nowrap;
                    color:rgba(255, 255, 255, .6);
                    font-family:Roboto;
                    font-size:12px;
                    pointer-events:none;
                }*/
                
                .controls {
                    display:inline-block;
                    position:absolute;
                    right:0;
                    top:0;
                    width:auto;
                    height:auto;
                    max-height:100%;
                    padding-left:1px;
                    overflow-x:hidden;
                    overflow-y:auto;
                    white-space:nowrap;
                    font-family:Roboto;
                    font-size:12px;
                    background:rgba(0, 0, 0, .7);
                }
                
                .hide_show {
                    display:inline-block;
                    position:relative;
                    vertical-align:top;
                    text-align:left;
                    width:auto;
                    flex:1;
                    color: #777;
                    overflow:hidden;
                    cursor:default;
                    transition:background 1s, color 1s;
                }
                .hide_show:hover {
                    background:black;
                    color:white;
                }
                
                .parent {
                    padding-right:4px;
                }
                .list-group-item.table {
                    height:auto !important;
                }
                .table {
                    display:table;
                    height:100%;
                    margin-bottom:0 !important;
                }
                .cell {
                    display:table-cell;
                    vertical-align:middle;
                }
                
                .hide_show .rotated {
                    display:inline-block;
                    min-width:16px;
                    max-width:16px;
                    vertical-align:middle;
                    transform:rotate(-90deg);
                }
                
                .container_toggles {
                    display:inline-block;
                    max-width:500px;
                    width:auto;
                    height:auto;
                    padding-top:2px;
                    overflow:hidden;
                    transition:max-width .5s, opacity .5s, padding .5s;
                }
                
                .list-group {
                    border:none;
                    margin-bottom:4px !important;
                }
                
                .list-group-item.all {
                    color:#fff !important;
                }
                .list-group-item.all .identifier {
                    font-weight:bold;
                }
                
                li.table {
                    overflow:hidden;
                }
                li.table .identifier {
                    max-width:160px;
                    padding-left:5px;
                    text-overflow:ellipsis;
                }
                li.table tr {
                    max-height:17px;
                }
                
                .toggle-switch {
                    background:none;
                    border:none;
                    color:#ccc !important;
                    cursor:pointer !important;
                    min-height:17px;
                    max-height:17px;
                    padding-top:1px;
                    padding-left:2px;
                    overflow:hidden;
                }
                .toggle-switch.disabled {
                    background:none !important;
                    opacity:.55 !important;
                }
                
                .toggle-switch .identifier {
                    max-width:250px;
                    width:250px;
                    padding-left:3px;
                    overflow:hidden;
                    text-overflow:ellipsis;
                    cursor:pointer;
                    font-weight:normal !important;
                    margin-bottom:0 !important;
                    height:17px;
                }
                .toggle-switch .identifier.active {
                    color:#fff;
                }
                
                .wrapper {
                    line-height:100%;
                    white-space:nowrap;
                }
                
                .material-switch > input[type="checkbox"] {
                    display: none;
                }
                
                .material-switch > label {
                    position: relative; 
                    display:inline-block;
                    cursor: pointer;
                    height: 0;
                    width: 30px;
                }

                .material-switch > label::before {
                    background: rgb(0, 0, 0);
                    box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);
                    border-radius: 8px;
                    content: '';
                    height: 8px;
                    margin-top: -2px;
                    position:absolute;
                    opacity: 0.3;
                    transition: all 0.4s ease-in-out;
                    width: 30px;
                    vertical-align:middle;
                }
                .material-switch > label::after {
                    background: rgb(255, 255, 255);
                    border-radius: 16px;
                    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);
                    content: '';
                    height: 14px;
                    left: -4px;
                    margin-top: -8px;
                    position: absolute;
                    top: 3px;
                    transition: all 0.3s ease-in-out;
                    width: 14px;
                }
                .material-switch > input[type="checkbox"]:checked + label::before {
                    background: inherit;
                    opacity: 0.5;
                }
                .material-switch > input[type="checkbox"]:checked + label::after {
                    background: inherit;
                    left: 20px;
                }
            </style>
        </div>
    </body>
</html>